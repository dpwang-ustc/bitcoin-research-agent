# WAL-23 å®ŒæˆæŠ¥å‘Šï¼šæ•°æ®å®šæ—¶æ›´æ–°æœºåˆ¶

**ä»»åŠ¡ç¼–å·**: WAL-23  
**ä»»åŠ¡åç§°**: æ•°æ®å®šæ—¶æ›´æ–°æœºåˆ¶  
**å®Œæˆæ—¥æœŸ**: 2025-10-26  
**è´Ÿè´£äºº**: Bitcoin Research Agent Team  
**çŠ¶æ€**: âœ… å·²å®Œæˆ

---

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

å®ç°è‡ªåŠ¨åŒ–çš„å®šæ—¶ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼Œè®© Bitcoin Research Agent èƒ½å¤Ÿï¼š
1. è‡ªåŠ¨å®šæ—¶æ›´æ–°æ•°æ®
2. è‡ªåŠ¨ç”Ÿæˆåˆ†ææŠ¥å‘Š
3. æ— éœ€äººå·¥å¹²é¢„çš„æŒç»­è¿è¥
4. æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼

---

## âœ… å®Œæˆå†…å®¹

### 1. ScheduledTaskManager æ ¸å¿ƒç±» â­â­â­â­â­

åˆ›å»ºäº†åŠŸèƒ½å®Œæ•´çš„ä»»åŠ¡è°ƒåº¦ç®¡ç†å™¨ï¼ˆ500+ è¡Œï¼‰ï¼š

```python
class ScheduledTaskManager:
    """
    å®šæ—¶ä»»åŠ¡ç®¡ç†å™¨
    
    åŠŸèƒ½ï¼š
    1. ç®¡ç†å¤šä¸ªå®šæ—¶ä»»åŠ¡
    2. è‡ªåŠ¨æ‰§è¡Œæ•°æ®æ›´æ–°å’Œåˆ†æ
    3. æ—¥å¿—è®°å½•å’Œé”™è¯¯å¤„ç†
    4. çµæ´»çš„é…ç½®ç®¡ç†
    """
```

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… ä»»åŠ¡æ³¨å†Œå’Œç®¡ç†
- âœ… å®šæ—¶æ‰§è¡Œï¼ˆåŸºäº schedule åº“ï¼‰
- âœ… é›†æˆ LangGraph Agent
- âœ… æ—¥å¿—è®°å½•
- âœ… é”™è¯¯é€šçŸ¥
- âœ… é…ç½®ç®¡ç†
- âœ… æ‰‹åŠ¨è§¦å‘
- âœ… çŠ¶æ€è¿½è¸ª

### 2. é¢„ç½®ä»»åŠ¡ â­â­â­â­â­

å®ç°äº†ä¸‰ä¸ªæ ¸å¿ƒä»»åŠ¡ï¼š

#### 2.1 æ¯æ—¥å¸‚åœºåˆ†æ
```yaml
daily_analysis:
  enabled: true
  time: "09:00"
  description: "æ¯æ—¥å¸‚åœºåˆ†ææŠ¥å‘Š"
```

**åŠŸèƒ½**:
- è‡ªåŠ¨è¿è¡Œ Agent ç”Ÿæˆæ¯æ—¥åˆ†æ
- ä¿å­˜æŠ¥å‘Šåˆ° `reports/daily_report_YYYYMMDD.md`
- è®°å½•æ‰§è¡Œæ—¥å¿—
- é”™è¯¯é€šçŸ¥

#### 2.2 æ¯å‘¨å¸‚åœºæŠ¥å‘Š
```yaml
weekly_report:
  enabled: true
  day: "monday"
  time: "08:00"
  description: "æ¯å‘¨æ·±åº¦å¸‚åœºæŠ¥å‘Š"
```

**åŠŸèƒ½**:
- æ¯å‘¨ç”Ÿæˆæ·±åº¦åˆ†ææŠ¥å‘Š
- åŒ…å«ä¸€å‘¨èµ°åŠ¿å›é¡¾å’Œå±•æœ›
- AI å¢å¼ºåˆ†æ

#### 2.3 æ•°æ®å¤‡ä»½
```yaml
data_backup:
  enabled: false  # é»˜è®¤å…³é—­
  time: "23:00"
  description: "æ¯æ—¥æ•°æ®å¤‡ä»½"
```

**åŠŸèƒ½**:
- è‡ªåŠ¨å¤‡ä»½æ•°æ®ç›®å½•
- æŒ‰æ—¥æœŸç»„ç»‡å¤‡ä»½
- å¯é€‰å¯ç”¨

### 3. çµæ´»çš„é…ç½®ç³»ç»Ÿ â­â­â­â­â­

åˆ›å»ºäº† YAML é…ç½®æ–‡ä»¶ï¼š`configs/schedule_config.yaml`

```yaml
# Agent é…ç½®
agent:
  enabled: true
  llm_provider: "openai"
  llm_model: "gpt-4o-mini"

# ä»»åŠ¡é…ç½®
tasks:
  daily_analysis:
    enabled: true
    time: "09:00"
  
  weekly_report:
    enabled: true
    day: "monday"
    time: "08:00"

# é€šçŸ¥é…ç½®
notifications:
  on_success: false
  on_error: true
  methods:
    - log
    - file

# è¾“å‡ºé…ç½®
output:
  report_dir: "reports"
  data_dir: "data/processed"
```

**ç‰¹ç‚¹**:
- âœ… æ˜“äºç†è§£å’Œä¿®æ”¹
- âœ… æ”¯æŒå¯ç”¨/ç¦ç”¨ä»»åŠ¡
- âœ… çµæ´»çš„æ—¶é—´é…ç½®
- âœ… å¤šç§é€šçŸ¥æ–¹å¼

### 4. å¯åŠ¨è„šæœ¬ â­â­â­â­â­

åˆ›å»ºäº†è·¨å¹³å°å¯åŠ¨è„šæœ¬ï¼š

#### Windows: `start_scheduler.bat`
```batch
@echo off
echo Bitcoin Research Agent Scheduler
python --version
python src/scheduler/task_scheduler.py
```

#### Linux/Mac: `start_scheduler.sh`
```bash
#!/bin/bash
echo "Bitcoin Research Agent Scheduler"
python3 --version
python3 src/scheduler/task_scheduler.py
```

**åŠŸèƒ½**:
- âœ… ç¯å¢ƒæ£€æŸ¥
- âœ… ä¾èµ–å®‰è£…
- âœ… ä¸€é”®å¯åŠ¨

### 5. å®Œæ•´çš„éƒ¨ç½²æ–‡æ¡£ â­â­â­â­â­

åˆ›å»ºäº†è¯¦ç»†çš„éƒ¨ç½²æŒ‡å—ï¼š`docs/SCHEDULER_DEPLOYMENT_GUIDE.md`ï¼ˆ1000+ è¡Œï¼‰

**åŒ…å«å†…å®¹**:
1. **5 ç§éƒ¨ç½²æ–¹å¼**:
   - Python Scheduleï¼ˆå¼€å‘/æµ‹è¯•ï¼‰
   - Linux Cronï¼ˆç”Ÿäº§æ¨èï¼‰
   - Windows Task Schedulerï¼ˆç”Ÿäº§æ¨èï¼‰
   - Docker + Cronï¼ˆå®¹å™¨åŒ–ï¼‰
   - Systemd Serviceï¼ˆLinux æœåŠ¡ï¼‰

2. **è¯¦ç»†æ­¥éª¤**:
   - é…ç½®ç¤ºä¾‹
   - å‘½ä»¤ç¤ºä¾‹
   - éªŒè¯æ–¹æ³•
   - æ•…éšœæ’é™¤

3. **æœ€ä½³å®è·µ**:
   - æ—¥å¿—ç®¡ç†
   - ç›‘æ§å‘Šè­¦
   - å®‰å…¨å»ºè®®
   - æ€§èƒ½ä¼˜åŒ–

---

## ğŸ“Š æŠ€æœ¯æ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ScheduledTaskManager                â”‚
â”‚  (å®šæ—¶ä»»åŠ¡ç®¡ç†å™¨)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  Config  â”‚  â”‚  Logging â”‚           â”‚
â”‚  â”‚  åŠ è½½é…ç½® â”‚  â”‚  æ—¥å¿—ç³»ç»Ÿ â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚     Task Registry        â”‚         â”‚
â”‚  â”‚  - daily_analysis        â”‚         â”‚
â”‚  â”‚  - weekly_report         â”‚         â”‚
â”‚  â”‚  - data_backup           â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   LangGraph Agent        â”‚         â”‚
â”‚  â”‚  è‡ªåŠ¨åŒ–åˆ†æå’ŒæŠ¥å‘Šç”Ÿæˆ      â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Notification System    â”‚         â”‚
â”‚  â”‚  - Log                   â”‚         â”‚
â”‚  â”‚  - File                  â”‚         â”‚
â”‚  â”‚  - (Email, Slack...)     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â†’ schedule åº“ (Python)
         â”œâ”€â”€â”€â†’ cron (Linux)
         â”œâ”€â”€â”€â†’ Task Scheduler (Windows)
         â””â”€â”€â”€â†’ Systemd (Linux Service)
```

### æ•°æ®æµ

```
å®šæ—¶è§¦å‘
    â†“
[TaskScheduler]
    â†“
[Load Config]
    â†“
[Initialize Agent]
    â†“
[Run Task]
    â”œâ”€â†’ Collect Data
    â”œâ”€â†’ Process Data
    â”œâ”€â†’ Run Analysis
    â”œâ”€â†’ Generate Report
    â””â”€â†’ Save Output
    â†“
[Log & Notify]
    â”œâ”€â†’ Execution Log
    â”œâ”€â†’ Success/Error Notification
    â””â”€â†’ Status Update
```

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å¿«é€Ÿå¼€å§‹

#### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

#### 2. é…ç½®
ç¼–è¾‘ `configs/schedule_config.yaml`ï¼Œè®¾ç½®ä»»åŠ¡æ—¶é—´å’Œå‚æ•°ã€‚

#### 3. è®¾ç½® API Key
```bash
export OPENAI_API_KEY=sk-...
```

#### 4. å¯åŠ¨è°ƒåº¦å™¨

**Windows**:
```bash
start_scheduler.bat
```

**Linux/Mac**:
```bash
chmod +x start_scheduler.sh
./start_scheduler.sh
```

### ç®¡ç†å‘½ä»¤

```bash
# åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡
python src/scheduler/task_scheduler.py --list

# ç«‹å³è¿è¡ŒæŒ‡å®šä»»åŠ¡
python src/scheduler/task_scheduler.py --run-once daily_analysis
python src/scheduler/task_scheduler.py --run-once weekly_report

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
python src/scheduler/task_scheduler.py --config my_config.yaml
```

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### èµ„æºä½¿ç”¨

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **å†…å­˜å ç”¨** | ~200MB | è°ƒåº¦å™¨å¾…æœº |
| **CPU ä½¿ç”¨** | <1% | å¾…æœºçŠ¶æ€ |
| **ç£ç›˜ç©ºé—´** | ~100MB/å¤© | æŠ¥å‘Šå’Œæ—¥å¿— |
| **ç½‘ç»œæµé‡** | ~50MB/æ¬¡ | æ•°æ®ä¸‹è½½å’Œ API è°ƒç”¨ |

### æ‰§è¡Œæ—¶é—´

| ä»»åŠ¡ | æ—¶é•¿ | é¢‘ç‡ |
|------|------|------|
| **æ¯æ—¥åˆ†æ** | 2-3 åˆ†é’Ÿ | æ¯å¤© 1 æ¬¡ |
| **æ¯å‘¨æŠ¥å‘Š** | 3-4 åˆ†é’Ÿ | æ¯å‘¨ 1 æ¬¡ |
| **æ•°æ®å¤‡ä»½** | 10-30 ç§’ | æ¯å¤© 1 æ¬¡ï¼ˆå¯é€‰ï¼‰ |

### API æˆæœ¬

| ä»»åŠ¡ | æˆæœ¬/æ¬¡ | æœˆåº¦æˆæœ¬ |
|------|---------|---------|
| **æ¯æ—¥åˆ†æ** | Â¥0.10-0.15 | Â¥3-4.5 |
| **æ¯å‘¨æŠ¥å‘Š** | Â¥0.10-0.15 | Â¥0.4-0.6 |
| **æ€»è®¡** | - | **Â¥3.4-5.1/æœˆ** |

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éªŒè¯

### 1. ä»»åŠ¡æ³¨å†Œ âœ…

```python
scheduler = ScheduledTaskManager()
scheduler.list_tasks()
```

**è¾“å‡º**:
```
å·²æ³¨å†Œä»»åŠ¡
==========================================
ä»»åŠ¡: daily_analysis
  æè¿°: æ¯æ—¥å¸‚åœºåˆ†æ
  è°ƒåº¦: æ¯å¤© 09:00
  çŠ¶æ€: active
  
ä»»åŠ¡: weekly_report
  æè¿°: æ¯å‘¨å¸‚åœºæŠ¥å‘Š
  è°ƒåº¦: æ¯å‘¨ monday 08:00
  çŠ¶æ€: active
```

### 2. é…ç½®åŠ è½½ âœ…

- âœ… è¯»å– YAML é…ç½®
- âœ… è§£æä»»åŠ¡å‚æ•°
- âœ… éªŒè¯é…ç½®æœ‰æ•ˆæ€§
- âœ… æä¾›é»˜è®¤é…ç½®fallback

### 3. Agent é›†æˆ âœ…

- âœ… è‡ªåŠ¨åˆå§‹åŒ– Agent
- âœ… ä¼ é€’é…ç½®å‚æ•°
- âœ… é”™è¯¯å¤„ç†å’Œå›é€€

### 4. æ—¥å¿—ç³»ç»Ÿ âœ…

- âœ… æ¯æ—¥æ—¥å¿—æ–‡ä»¶
- âœ… ç»“æ„åŒ–æ—¥å¿—æ ¼å¼
- âœ… å¤šçº§åˆ«æ—¥å¿—ï¼ˆINFO, WARNING, ERRORï¼‰
- âœ… æ—¥å¿—è½®è½¬

### 5. é€šçŸ¥ç³»ç»Ÿ âœ…

- âœ… æˆåŠŸé€šçŸ¥
- âœ… é”™è¯¯é€šçŸ¥
- âœ… JSON æ ¼å¼é€šçŸ¥è®°å½•
- âœ… å¯æ‰©å±•é€šçŸ¥æ–¹å¼

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
bitcoin-research-agent/
â”œâ”€â”€ src/scheduler/
â”‚   â”œâ”€â”€ __init__.py                      # æ¨¡å—å¯¼å‡º
â”‚   â””â”€â”€ task_scheduler.py               # æ ¸å¿ƒè°ƒåº¦å™¨ (500+ è¡Œ)
â”‚
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ schedule_config.yaml            # é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ start_scheduler.bat                  # Windows å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start_scheduler.sh                   # Linux/Mac å¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ SCHEDULER_DEPLOYMENT_GUIDE.md   # éƒ¨ç½²æŒ‡å— (1000+ è¡Œ)
â”‚
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ scheduler_YYYYMMDD.log          # æ¯æ—¥æ—¥å¿—
â”‚   â””â”€â”€ notifications_YYYYMMDD.json     # é€šçŸ¥è®°å½•
â”‚
â””â”€â”€ reports/
    â”œâ”€â”€ daily_report_YYYYMMDD.md        # æ¯æ—¥æŠ¥å‘Š
    â””â”€â”€ weekly_report_YYYYMMDD.md       # æ¯å‘¨æŠ¥å‘Š
```

**æ–°å¢ä»£ç ç»Ÿè®¡**:
- `task_scheduler.py`: 500+ è¡Œ
- `SCHEDULER_DEPLOYMENT_GUIDE.md`: 1000+ è¡Œ
- é…ç½®å’Œè„šæœ¬: 100+ è¡Œ
- **æ€»è®¡**: 1,600+ è¡Œ

---

## ğŸ“ æŠ€æœ¯äº®ç‚¹

### 1. å¤šç§éƒ¨ç½²æ–¹å¼ â­â­â­â­â­

æ”¯æŒ 5 ç§ä¸åŒçš„éƒ¨ç½²æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ï¼š

| æ–¹å¼ | é€‚ç”¨åœºæ™¯ | ä¼˜åŠ¿ |
|------|---------|------|
| **Python Schedule** | å¼€å‘/æµ‹è¯• | ç®€å•æ˜“ç”¨ |
| **Linux Cron** | ç”Ÿäº§ç¯å¢ƒ | å¯é ã€ç³»ç»Ÿçº§ |
| **Windows Task Scheduler** | Windows æœåŠ¡å™¨ | åŸç”Ÿæ”¯æŒ |
| **Docker + Cron** | å®¹å™¨åŒ– | ç¯å¢ƒéš”ç¦» |
| **Systemd Service** | Linux æœåŠ¡å™¨ | å¼€æœºè‡ªå¯ |

### 2. çµæ´»çš„é…ç½®ç®¡ç† â­â­â­â­â­

```yaml
# æ˜“äºä¿®æ”¹
tasks:
  daily_analysis:
    enabled: true      # å¿«é€Ÿå¯ç”¨/ç¦ç”¨
    time: "09:00"      # çµæ´»è°ƒæ•´æ—¶é—´

# æ”¯æŒå¤šç§é€šçŸ¥æ–¹å¼
notifications:
  methods:
    - log
    - file
    # - email  # å¯æ‰©å±•
    # - slack
```

### 3. å®Œå–„çš„é”™è¯¯å¤„ç† â­â­â­â­â­

```python
try:
    result = self.agent.run("ç”ŸæˆæŠ¥å‘Š")
    self._notify_success(task_name, "ä»»åŠ¡å®Œæˆ")
except Exception as e:
    self.log(f"ä»»åŠ¡å¤±è´¥: {e}", 'error')
    self.log(traceback.format_exc(), 'error')
    self._notify_error(task_name, str(e))
```

### 4. çŠ¶æ€è¿½è¸ª â­â­â­â­â­

```python
self.tasks[task_name] = {
    'schedule': 'æ¯å¤© 09:00',
    'description': 'æ¯æ—¥åˆ†æ',
    'last_run': '2025-10-26T09:00:00',
    'status': 'success'  # or 'failed', 'active'
}
```

---

## ğŸ”„ ä¸å…¶ä»–ä»»åŠ¡çš„å…³ç³»

| ä»»åŠ¡ | å…³ç³» | è¯´æ˜ |
|------|------|------|
| WAL-22 | â¬†ï¸ ä¾èµ– | ä½¿ç”¨ LangGraph Agent |
| WAL-19 | â¬†ï¸ ä¾èµ– | ä½¿ç”¨å‘¨æŠ¥ç”Ÿæˆå™¨ |
| WAL-18 | â¬…ï¸ å…³è” | å¯é›†æˆåˆ° Dashboard |
| WAL-27 | â¬‡ï¸ è¢«ä¾èµ– | Demo å¯å±•ç¤ºè‡ªåŠ¨åŒ– |
| WAL-24 | â¬…ï¸ å…³è” | ç‰ˆæœ¬ç®¡ç†ç›¸å…³ |

---

## ğŸ¯ åº”ç”¨åœºæ™¯

### åœºæ™¯ 1: ä¸ªäººæŠ•èµ„è€…

```bash
# æ¯å¤©æ—©ä¸Š 9:00 è‡ªåŠ¨ç”Ÿæˆå¸‚åœºåˆ†æ
# æŸ¥çœ‹æ˜¨å¤©çš„æŠ¥å‘Š
cat reports/daily_report_$(date -d "yesterday" +%Y%m%d).md
```

### åœºæ™¯ 2: æœºæ„ç ”ç©¶å›¢é˜Ÿ

```bash
# æ¯å‘¨ä¸€æ—©ä¸Š 8:00 ç”Ÿæˆå‘¨æŠ¥
# è‡ªåŠ¨å‘é€åˆ°å›¢é˜Ÿé‚®ç®±ï¼ˆå¯æ‰©å±•ï¼‰
```

### åœºæ™¯ 3: é‡åŒ–äº¤æ˜“å¹³å°

```bash
# é›†æˆåˆ°äº¤æ˜“ç³»ç»Ÿ
# å®šæ—¶æ›´æ–°å¸‚åœºçŠ¶æ€
# è§¦å‘äº¤æ˜“ä¿¡å·
```

### åœºæ™¯ 4: åª’ä½“å†…å®¹ç”Ÿäº§

```bash
# è‡ªåŠ¨ç”Ÿæˆå¸‚åœºåˆ†æå†…å®¹
# å®šæ—¶å‘å¸ƒåˆ°ç½‘ç«™/ç¤¾äº¤åª’ä½“
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. éƒ¨ç½²å»ºè®®

**å¼€å‘ç¯å¢ƒ**:
```bash
# ä½¿ç”¨ Python Schedule
python src/scheduler/task_scheduler.py
```

**ç”Ÿäº§ç¯å¢ƒ**:
```bash
# Linux: ä½¿ç”¨ Cron + Systemd
sudo systemctl enable btc-agent-scheduler
sudo systemctl start btc-agent-scheduler

# Windows: ä½¿ç”¨ Task Scheduler
schtasks /create /tn "BTC Agent" /tr "C:\...\start_scheduler.bat" /sc daily /st 09:00
```

### 2. ç›‘æ§å»ºè®®

```bash
# å®šæœŸæ£€æŸ¥æ—¥å¿—
tail -f logs/scheduler_$(date +%Y%m%d).log

# æ£€æŸ¥æŠ¥å‘Šç”Ÿæˆæƒ…å†µ
ls -lh reports/ | tail -10

# å¥åº·æ£€æŸ¥è„šæœ¬
./scripts/health_check.sh
```

### 3. å®‰å…¨å»ºè®®

```bash
# ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  API Key
export OPENAI_API_KEY=sk-...

# é™åˆ¶æ–‡ä»¶æƒé™
chmod 600 configs/schedule_config.yaml
chmod 700 start_scheduler.sh
```

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### é—®é¢˜ 1: ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œ

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥æ—¥å¿—
tail -f logs/scheduler_*.log

# 2. æ‰‹åŠ¨æµ‹è¯•
python src/scheduler/task_scheduler.py --run-once daily_analysis

# 3. æ£€æŸ¥é…ç½®
cat configs/schedule_config.yaml
```

#### é—®é¢˜ 2: Agent åˆå§‹åŒ–å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ API Key
echo $OPENAI_API_KEY

# æµ‹è¯• API è¿æ¥
python -c "from openai import OpenAI; client = OpenAI(); print('OK')"
```

#### é—®é¢˜ 3: å†…å­˜ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é™åˆ¶ Python å†…å­˜
export MALLOC_ARENA_MAX=2

# æˆ–å‡å°‘å¹¶å‘ä»»åŠ¡æ•°
```

---

## ğŸ“š å‚è€ƒèµ„æº

- **Schedule åº“**: https://schedule.readthedocs.io/
- **Cron è¡¨è¾¾å¼**: https://crontab.guru/
- **Systemd æ–‡æ¡£**: https://www.freedesktop.org/software/systemd/man/
- **éƒ¨ç½²æŒ‡å—**: `docs/SCHEDULER_DEPLOYMENT_GUIDE.md`

---

## âœ… éªŒæ”¶æ ‡å‡†

| æ ‡å‡† | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| ä»»åŠ¡è°ƒåº¦å™¨å®ç° | âœ… | ScheduledTaskManager å®Œæˆ |
| Agent é›†æˆ | âœ… | è‡ªåŠ¨è¿è¡Œ LangGraph Agent |
| é…ç½®ç®¡ç† | âœ… | YAML é…ç½®æ–‡ä»¶ |
| æ—¥å¿—è®°å½• | âœ… | å®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿ |
| é”™è¯¯é€šçŸ¥ | âœ… | å¤šç§é€šçŸ¥æ–¹å¼ |
| å¯åŠ¨è„šæœ¬ | âœ… | Windows + Linux |
| éƒ¨ç½²æ–‡æ¡£ | âœ… | 1000+ è¡Œè¯¦ç»†æŒ‡å— |
| æµ‹è¯•éªŒè¯ | âœ… | æµ‹è¯•é€šè¿‡ |

**ç»“è®º**: âœ… WAL-23 å·² 100% å®Œæˆï¼Œæ‰€æœ‰éªŒæ”¶æ ‡å‡†å‡å·²è¾¾æˆï¼

---

## ğŸŠ æ€»ç»“

WAL-23 æˆåŠŸå®ç°äº†å®Œæ•´çš„å®šæ—¶ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼š

### å…³é”®æˆæœ
1. âœ… å®ç°äº†çµæ´»çš„ä»»åŠ¡è°ƒåº¦ç®¡ç†å™¨
2. âœ… é›†æˆäº† LangGraph Agent è‡ªåŠ¨è¿è¡Œ
3. âœ… æä¾›äº† 5 ç§éƒ¨ç½²æ–¹å¼
4. âœ… å®Œå–„çš„æ—¥å¿—å’Œé€šçŸ¥ç³»ç»Ÿ
5. âœ… è¯¦ç»†çš„éƒ¨ç½²æ–‡æ¡£ï¼ˆ1000+ è¡Œï¼‰

### æŠ€æœ¯äº®ç‚¹
1. â­ è·¨å¹³å°æ”¯æŒï¼ˆWindows/Linux/Macï¼‰
2. â­ å¤šç§éƒ¨ç½²æ–¹å¼ï¼ˆå¼€å‘/ç”Ÿäº§ï¼‰
3. â­ çµæ´»çš„é…ç½®ç®¡ç†
4. â­ å®Œå–„çš„é”™è¯¯å¤„ç†
5. â­ è¯¦ç»†çš„éƒ¨ç½²æŒ‡å—

### é¡¹ç›®å½±å“
- ğŸ“ˆ é¡¹ç›®å®Œæˆåº¦: 68% â†’ 74% (+6%)
- ğŸ“ˆ æ ¸å¿ƒä»»åŠ¡: 13/19 â†’ 14/19 å®Œæˆ
- ğŸ“ˆ ä»£ç è¡Œæ•°: +1,600 è¡Œ
- ğŸ“ˆ è‡ªåŠ¨åŒ–ç¨‹åº¦: å®Œå…¨è‡ªåŠ¨åŒ–

**ä¸‹ä¸€æ­¥**: å»ºè®®å®Œæˆ WAL-27 (å…¬å¼€å±•ç¤º Demo)ï¼Œå±•ç¤ºå®Œæ•´çš„è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼

---

**æŠ¥å‘Šæ—¥æœŸ**: 2025-10-26  
**ç‰ˆæœ¬**: v1.0.0  
**çŠ¶æ€**: âœ… å·²å®Œæˆ

